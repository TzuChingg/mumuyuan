import{_ as f,c as _,a as e,w as d,v as u,b as c,d as p,F as w,r as h,o as b,e as m,p as g,f as x}from"./index-d3kt-dkl.js";const k={data(){return{userInput:{email:"",password:""}}},computed:{loginBtn(){return this.userInput.email.trim()===""||this.userInput.password.trim()===""}},methods:{userlogin(){this.$axios.post("/signin",{...this.userInput}).then(s=>{if(s.status===200){const{user:t,accessToken:r}=s.data;document.cookie=`token=${r};expires=${new Date().getTime()+24*60*60*1e3};`,document.cookie=`identity=${t.identity};expires=${new Date().getTime()+24*60*60*1e3};`,document.cookie=`id=${t.id};expires=${new Date().getTime()+24*60*60*1e3};`,this.$swal({icon:"success",title:"成功登入",text:"導覽至首頁",timer:1500}).then(()=>{window.location.href="/mumuyuan/"})}}).catch(()=>{this.$swal({icon:"error",title:"登入失敗",text:"請重新輸入"})})}}},i=s=>(g("data-v-bf800e6f"),s=s(),x(),s),I={class:"mb-3"},y=i(()=>e("label",{for:"mumuyuanMail",class:"form-label fw-bolder fs-5"},"信箱",-1)),v={class:"mb-4"},T=i(()=>e("label",{for:"mumuyuanPassword",class:"form-label fw-bolder fs-5"},"密碼",-1)),$={class:"text-end pt-1"},B=["disabled"],V={class:"text-center"},C=i(()=>e("span",{class:"text-center"},"還沒加入會員嗎?",-1));function D(s,t,r,M,n,a){const l=h("router-link");return b(),_(w,null,[e("div",I,[y,d(e("input",{type:"email",class:"form-control",id:"mumuyuanMail",placeholder:"請輸入信箱","onUpdate:modelValue":t[0]||(t[0]=o=>n.userInput.email=o)},null,512),[[u,n.userInput.email]])]),e("div",v,[T,d(e("input",{type:"password",class:"form-control",id:"mumuyuanPassword",placeholder:"請輸入密碼","onUpdate:modelValue":t[1]||(t[1]=o=>n.userInput.password=o)},null,512),[[u,n.userInput.password]]),e("div",$,[c(l,{to:"/login/forget",class:"fotgetPassword"},{default:p(()=>[m("忘記密碼?")]),_:1})])]),e("button",{type:"type",class:"btn btn-dark d-block mx-auto w-100 pt-2 mb-3",onClick:t[2]||(t[2]=(...o)=>a.userlogin&&a.userlogin(...o)),disabled:a.loginBtn}," 登入 ",8,B),e("div",V,[C,c(l,{to:"/login/signin",class:"signin mx-2"},{default:p(()=>[m("註冊")]),_:1})])],64)}const P=f(k,[["render",D],["__scopeId","data-v-bf800e6f"]]);export{P as default};
