import{_ as v,g as k,c as n,a as t,F as p,h as m,o as i,e as g,t as c,w as _,i as u,j as f,v as x,p as S,f as w,k as V}from"./index-d3kt-dkl.js";const I={data(){return{finishOrder:[],ScoreText:"",star:0}},mounted(){this.$axios.get(`/orders?userId=${k.getItem("id")}&status=3`).then(d=>{d.status===200&&(this.finishOrder=d.data)})},methods:{pushScore(d,e){let b={star:e,ScoreText:this.ScoreText,orderId:`${d}`},h={score:`${e}`};this.$axios.post("/scores",b),this.$axios.patch(`/orders/${d}`,h),location.reload()}}},l=d=>(S("data-v-88efef07"),d=d(),w(),d),T=l(()=>t("h3",{class:"text-center text-dark",style:{"font-weight":"600","letter-spacing":"2px"}},"歷史訂單",-1)),O=l(()=>t("hr",null,null,-1)),U={class:"row justify-content-center memberorder"},N={class:"col-12 mb-4"},j=l(()=>t("h5",{class:"text-primary fw-bolder",style:{"letter-spacing":"1px"}},"歷史訂單",-1)),B=l(()=>t("hr",null,null,-1)),C={class:"accordion-item"},E={class:"accordion-header",id:"headingOne"},L=["data-bs-target","aria-controls"],M=l(()=>t("img",{src:V,alt:"左串燒icon"},null,-1)),q={class:"row ms-2"},D={class:"col-12"},F=l(()=>t("span",{class:"ms-5"},"已完成",-1)),R={class:"col-12"},z=["id"],A={class:"accordion-body"},G={class:"table table-sm"},H=l(()=>t("thead",null,[t("tr",null,[t("th",{class:"col-2"},"品項"),t("th",{class:"col-1"},"數量"),t("th",{class:"col-1"},"單價"),t("th",{class:"col-1"},"總價")])],-1)),J={class:"table-group-divider"},K={class:"table-group-divider"},P=l(()=>t("td",null,null,-1)),Q=l(()=>t("td",{colspan:"2",class:"p-1"},"總計(含優惠券使用)",-1)),W={class:"p-1"},X={key:0,class:"col-12 d-flex justify-content-between"},Y={className:"box"},Z=["id","data-bs-target"],$=["for"],tt=["id","data-bs-target"],st=["for"],ot=["id","data-bs-target"],et=["for"],at=["id","data-bs-target"],lt=["for"],rt=["id","data-bs-target"],dt=["for"],ct=l(()=>t("p",{class:"ms-4 text-success"},"{歡迎評價}",-1)),nt=l(()=>t("button",{class:"btn btn-primary btn-sm"},"再次訂購",-1)),it={key:1,class:"col-12 d-flex justify-content-end"},_t=l(()=>t("button",{class:"btn btn-primary btn-sm"},"再次訂購",-1)),ut=[_t],pt=["id"],bt={class:"modal-dialog"},ht={class:"modal-content border-0"},mt={class:"modal-body fs-3"},gt={class:"modal-footer border-0"},ft=l(()=>t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1)),yt=["onClick"];function vt(d,e,b,h,a,y){return i(),n(p,null,[T,O,t("div",U,[t("div",N,[j,B,(i(!0),n(p,null,m(a.finishOrder,(r,o)=>(i(),n("div",{class:"accordion mb-4",key:o,id:"accordionExample"},[t("div",C,[t("h2",E,[t("button",{class:"itemImg accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#index"+r.orderid,"aria-expanded":"false","aria-controls":"index"+r.orderid},[M,t("div",q,[t("div",D,[g(c(r.product.length)+" 份餐點 $"+c(r.price)+" ",1),F]),t("div",R,[t("span",null,c(r.day),1)])])],8,L)]),t("div",{id:"index"+r.orderid,class:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},[t("div",A,[t("table",G,[H,t("tbody",J,[(i(!0),n(p,null,m(r.product,s=>(i(),n("tr",{key:s},[t("td",null,c(s.productName),1),t("td",null,c(s.quantity),1),t("td",null,c(s.price),1),t("td",null,c(s.quantity*s.price),1)]))),128))]),t("tfoot",K,[P,Q,t("td",W,c(r.price),1)])]),r.score?f("",!0):(i(),n("div",X,[t("span",null,[t("div",Y,[_(t("input",{type:"radio",name:"star",id:"score5"+o,value:"5","data-bs-toggle":"modal","data-bs-target":"#star"+o,"onUpdate:modelValue":e[0]||(e[0]=s=>a.star=s)},null,8,Z),[[u,a.star]]),t("label",{class:"star",for:"score5"+o},null,8,$),_(t("input",{type:"radio",name:"star",id:"score4"+o,value:"4","data-bs-toggle":"modal","data-bs-target":"#star"+o,"onUpdate:modelValue":e[1]||(e[1]=s=>a.star=s)},null,8,tt),[[u,a.star]]),t("label",{class:"star",for:"score4"+o},null,8,st),_(t("input",{type:"radio",name:"star",id:"score3"+o,value:"3","data-bs-toggle":"modal","data-bs-target":"#star"+o,"onUpdate:modelValue":e[2]||(e[2]=s=>a.star=s)},null,8,ot),[[u,a.star]]),t("label",{class:"star",for:"score3"+o},null,8,et),_(t("input",{type:"radio",name:"star",id:"score2"+o,value:"2","data-bs-toggle":"modal","data-bs-target":"#star"+o,"onUpdate:modelValue":e[3]||(e[3]=s=>a.star=s)},null,8,at),[[u,a.star]]),t("label",{class:"star",for:"score2"+o},null,8,lt),_(t("input",{type:"radio",name:"star",id:"score1"+o,value:"1","data-bs-toggle":"modal","data-bs-target":"#star"+o,"onUpdate:modelValue":e[4]||(e[4]=s=>a.star=s)},null,8,rt),[[u,a.star]]),t("label",{class:"star",for:"score1"+o},null,8,dt)]),ct]),nt])),r.score?(i(),n("div",it,ut)):f("",!0),t("div",{class:"modal fade",id:"star"+o,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},[g("0 "),t("div",bt,[t("div",ht,[t("div",mt," 感謝你為單號[ "+c(r.orderid)+" ]評價了"+c(a.star)+"顆星 ",1),_(t("textarea",{id:"title",placeholder:"請寫下建議內容",class:"form-control border-1 shadow-none w-50 ms-4","onUpdate:modelValue":e[5]||(e[5]=s=>a.ScoreText=s)},null,512),[[x,a.ScoreText]]),t("div",gt,[ft,t("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:s=>y.pushScore(r.id,a.star)},"確認送出",8,yt)])])])],8,pt)])],8,z)])]))),128))])])],64)}const xt=v(I,[["render",vt],["__scopeId","data-v-88efef07"]]);export{xt as default};
